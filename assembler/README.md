# Hack Assembler
This is a C implementation of an assembler/disassembler for the Hack machine language capable of handling symbols.

Assembled files appear in out.hack and disassembled files appear in out.asm.

### Example Input (Hello World):
```
// Initialize stack
@256
D=A
@SP
M=D

// Call Sys.init
@Sys.init$ret.0
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_0
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_0)
@SP
D=M
@5
D=D-A
@0
D=D-A
@ARG
M=D
@Sys.init
0;JMP
(Sys.init$ret.0)

// Ran everytime a function is called
(SAVE)
@LCL
D=M
@SP
M=M+1
A=M-1
M=D
@ARG
D=M
@SP
M=M+1
A=M-1
M=D
@THIS
D=M
@SP
M=M+1
A=M-1
M=D
@THAT
D=M
@SP
M=M+1
A=M-1
M=D
@SP
D=M
@LCL
M=D
@R13
A=M
0;JMP

// Ran everytime a function is returned
(RESTORE)
@LCL
D=M
@R13
M=D
@5
A=D-A
D=M
@R14
M=D
@SP
AM=M-1
D=M
@ARG
A=M
M=D
@ARG
D=M+1
@SP
M=D
@R13
D=M
@1
A=D-A
D=M
@THAT
M=D
@R13
D=M
@2
A=D-A
D=M
@THIS
M=D
@R13
D=M
@3
A=D-A
D=M
@ARG
M=D
@R13
D=M
@4
A=D-A
D=M
@LCL
M=D
@R14
A=M
0;JMP

// function Main.main 0
(Main.main)
@0
D=A
(Main.main$Lcl)
D=D-1
@Main.main$LclEnd
D;JLT
@SP
M=M+1
A=M-1
M=0
@Main.main$Lcl
0;JMP
(Main.main$LclEnd)

// push constant 12
@12
D=A
@SP
M=M+1
A=M-1
M=D

// call String.new 1
@String.new$ret.1
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_1
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_1)
@SP
D=M
@5
D=D-A
@1
D=D-A
@ARG
M=D
@String.new
0;JMP
(String.new$ret.1)

// push constant 104
@104
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.2
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_2
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_2)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.2)

// push constant 101
@101
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.3
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_3
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_3)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.3)

// push constant 108
@108
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.4
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_4
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_4)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.4)

// push constant 108
@108
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.5
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_5
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_5)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.5)

// push constant 111
@111
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.6
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_6
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_6)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.6)

// push constant 44
@44
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.7
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_7
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_7)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.7)

// push constant 32
@32
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.8
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_8
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_8)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.8)

// push constant 119
@119
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.9
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_9
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_9)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.9)

// push constant 111
@111
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.10
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_10
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_10)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.10)

// push constant 114
@114
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.11
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_11
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_11)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.11)

// push constant 108
@108
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.12
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_12
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_12)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.12)

// push constant 100
@100
D=A
@SP
M=M+1
A=M-1
M=D

// call String.appendChar 2
@String.appendChar$ret.13
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_13
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_13)
@SP
D=M
@5
D=D-A
@2
D=D-A
@ARG
M=D
@String.appendChar
0;JMP
(String.appendChar$ret.13)

// call Output.printString 1
@Output.printString$ret.14
D=A
@SP
M=M+1
A=M-1
M=D
@SAVE_RET_14
D=A
@R13
M=D
@SAVE
0;JMP
(SAVE_RET_14)
@SP
D=M
@5
D=D-A
@1
D=D-A
@ARG
M=D
@Output.printString
0;JMP
(Output.printString$ret.14)

// pop temp 0
@SP
AM=M-1
D=M
@5
M=D

// push constant 0
@0
D=A
@SP
M=M+1
A=M-1
M=D

// return
@RESTORE
0;JMP

(END_PROGRAM)
@END_PROGRAM
0;JMP
```

### Example Output:
```
0000000100000000
1110110000010000
0000000000000000
1110001100001000
0000000000011010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000000010000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000000
1110010011010000
0000000000000010
1110001100001000
0000000000010000
1110101010000111
0000000000000001
1111110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000000000010
1111110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000000000011
1111110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000000000100
1111110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000000000000
1111110000010000
0000000000000001
1110001100001000
0000000000001101
1111110000100000
1110101010000111
0000000000000001
1111110000010000
0000000000001101
1110001100001000
0000000000000101
1110010011100000
1111110000010000
0000000000001110
1110001100001000
0000000000000000
1111110010101000
1111110000010000
0000000000000010
1111110000100000
1110001100001000
0000000000000010
1111110111010000
0000000000000000
1110001100001000
0000000000001101
1111110000010000
0000000000000001
1110010011100000
1111110000010000
0000000000000100
1110001100001000
0000000000001101
1111110000010000
0000000000000010
1110010011100000
1111110000010000
0000000000000011
1110001100001000
0000000000001101
1111110000010000
0000000000000011
1110010011100000
1111110000010000
0000000000000010
1110001100001000
0000000000001101
1111110000010000
0000000000000100
1110010011100000
1111110000010000
0000000000000001
1110001100001000
0000000000001110
1111110000100000
1110101010000111
0000000000000000
1110110000010000
1110001110010000
0000000001110110
1110001100000100
0000000000000000
1111110111001000
1111110010100000
1110101010001000
0000000001101101
1110101010000111
0000000000001100
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000010010010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000010001000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000001
1110010011010000
0000000000000010
1110001100001000
0000000000010001
1110101010000111
0000000001101000
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000010101110
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000010100100
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001100101
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000011001010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000011000000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001101100
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000011100110
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000011011100
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001101100
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000100000010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000011111000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001101111
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000100011110
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000100010100
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000000101100
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000100111010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000100110000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000000100000
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000101010110
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000101001100
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001110111
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000101110010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000101101000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001101111
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000110001110
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000110000100
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001110010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000110101010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000110100000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001101100
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000111000110
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000110111100
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000001100100
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000111100010
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000111011000
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000010
1110010011010000
0000000000000010
1110001100001000
0000000000010010
1110101010000111
0000000111111000
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000111101110
1110110000010000
0000000000001101
1110001100001000
0000000000011010
1110101010000111
0000000000000000
1111110000010000
0000000000000101
1110010011010000
0000000000000001
1110010011010000
0000000000000010
1110001100001000
0000000000010011
1110101010000111
0000000000000000
1111110010101000
1111110000010000
0000000000000101
1110001100001000
0000000000000000
1110110000010000
0000000000000000
1111110111001000
1111110010100000
1110001100001000
0000000000111001
1110101010000111
0000001000000101
1110101010000111
```

## Requirements
A basic C compiler

## Build
Simply run `make`

## Run
### Linux
`./hackasm [-d] <path-to-file>`

### Windows
`hackasm.exe [-d] <path-to-file>`

## Options
Supply the `-d` flag if you wish to disassemble a .hack file rather than assemble a .asm file.

## References
[Hack Machine Language](https://b1391bd6-da3d-477d-8c01-38cdf774495a.filesusr.com/ugd/44046b_d70026d8c1424487a451eaba3e372132.pdf)
